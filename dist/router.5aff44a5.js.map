{"version":3,"sources":["src/router/EventEmitter.js","src/router/index.js"],"names":["EventEmitter","events","event","arg","forEach","apply","cb","push","Router","host","window","location","renderDom","link","url","replace","history","pushState","page","emmiter","emit","document","querySelectorAll","item","addEventListener","e","preventDefault","target","href","routes","querySelector","subscribe","currentElement","find","path","component","innerHTML","appendChild","createVideos","PasswordField","createHome","router","div","createElement","textContent","someInfo","loginWrapper","nextButton","changeEmailTitle","changeInputField","style","opacity","transition","setTimeout","innerText","outerHTML","linkInit","switch"],"mappings":"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","file":"router.5aff44a5.js","sourceRoot":"..","sourcesContent":["class EventEmitter {\r\n    constructor() {\r\n        this.events = {};\r\n    }\r\n\r\n    emit(event, ...arg) {\r\n        if (!this.events[event]) {\r\n            return null;\r\n        }\r\n\r\n        this.events[event].forEach(event => {\r\n            event.apply(this, arg);\r\n        });\r\n    }\r\n\r\n    subscribe(event, cb) {\r\n        if (!this.events[event]) {\r\n            this.events[event] = [];\r\n        }\r\n        this.events[event].push(cb);\r\n    }\r\n}\r\n\r\nexport default EventEmitter;","import EventEmitter from \"./EventEmitter\";\r\n\r\n\r\n\r\nclass Router {\r\n  constructor() {\r\n    this.host = window.location.host;\r\n    this.renderDom = null;\r\n  }\r\n\r\n  push(link) {\r\n    const url = link.replace(this.host, \"\").replace(\"http://\", \"\");\r\n    window.history.pushState(\r\n      {\r\n        page: link,\r\n      },\r\n      null,\r\n      url\r\n    );\r\n    emmiter.emit(\"goto\", url);\r\n  }\r\n\r\n  linkInit() {\r\n    const links = document.querySelectorAll(\"A\");\r\n    links.forEach((item) => {\r\n      item.addEventListener(\"click\", (e) => {\r\n        e.preventDefault();\r\n        this.push(e.target.href);\r\n      });\r\n    });\r\n  }\r\n\r\n  switch(routes) {\r\n    if (!this.renderDom) {\r\n      this.renderDom = document.querySelector(\".render\");\r\n    }\r\n\r\n    emmiter.subscribe(\"goto\", (url) => {\r\n      try {\r\n        const currentElement = routes.find(({ path }) => path === url)\r\n          .component;\r\n        this.renderDom.innerHTML = \"\";\r\n        this.renderDom.appendChild(currentElement());\r\n      } catch (e) {\r\n        this.renderDom.innerHTML = \"<strong>404</strong>\";\r\n      }\r\n    });\r\n  }\r\n}\r\n\r\nconst routes = [\r\n  {\r\n    path: \"/videos\",\r\n    component: createVideos,\r\n  },\r\n  {\r\n    path: \"/password\",\r\n    component: PasswordField,\r\n  },\r\n  {\r\n    path: \"/home\",\r\n    component: createHome,\r\n  },\r\n];\r\n\r\n// run code here\r\nconst emmiter = new EventEmitter();\r\nconst router = new Router();\r\nrouter.linkInit();\r\nrouter.switch(routes);\r\n\r\n// const nextButton = document.getElementById('login__next-button');\r\n// nextButton.addEventListener('click', (event) => {\r\n//   event.preventDefault();\r\n\r\n//   window.location.href = window.location.origin + '/videos'\r\n//   console.log(window.location.origin + '/videos')\r\n// }, false)\r\n\r\nfunction createVideos() {\r\n  const div = document.createElement(\"DIV\");\r\n  div.textContent = \"VIDEO\";\r\n\r\n  var someInfo = document.createElement(\"div\");\r\n  someInfo.innerHTML = `<h1>hi video</h1>`;\r\n\r\n  div.appendChild(someInfo);\r\n\r\n  return div;\r\n}\r\n\r\nfunction PasswordField() {\r\n  const div = document.createElement(\"DIV\");\r\n  div.textContent = \"password\";\r\n\r\n  const loginWrapper = document.querySelector('.login__wrapper')\r\n  const nextButton = document.querySelector('#login__next-button')\r\n  const changeEmailTitle = document.querySelector('.logo__sign-in h3')\r\n  const changeInputField = document.querySelector('.logo__sign-in #user-email')\r\n \r\n\r\n  loginWrapper.style.opacity = '0';\r\n  loginWrapper.style.transition = \"all 1s ease-out\"\r\n\r\n  setTimeout(()=>{\r\n    loginWrapper.style.opacity = '1';\r\n    changeEmailTitle.innerText = \"Enter password\";\r\n    changeInputField.outerHTML = `<input type=\"password\" id=\"user-pw\" required />`;\r\n    nextButton.outerHTML = `<button type=\"submit\" id=\"login__sign-in\" class=\"ms-Button ms-Button--primary\">Log in</button>`\r\n  },1000)\r\n \r\n\r\n  // div.appendChild(changeEmailTitle);\r\n  return div;\r\n}\r\n\r\nfunction createHome() {\r\n  const div = document.createElement(\"DIV\");\r\n  div.textContent = \"HOME\";\r\n  return div;\r\n}\r\n"]}